webpackJsonp([5],{Vg0b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("teIl"),r=a("TVmP"),o=a("PvTS"),i=(a("vApD"),{data:function(){return{actionUrl:GSHP_SERVER_ENDPOINT+"/project",form:{proName:"",proBuildingSize:"",proLocation:"",proBuildingType:"",excelFile:[]},rules:{proName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],proBuildingSize:[{required:!0,message:"请输入建筑面积",trigger:"blur"}],proLocation:[{required:!0,message:"请输入项目地点",trigger:"blur"}],proBuildingType:[{required:!0,message:"请输入建筑类型",trigger:"blur"}]},result:{},allTableData:[],currentPage:1,pageSize:10,totalCnt:0,tableData:[]}},components:{headTop:l.a,footerBottom:r.default,topNav:o.default},methods:{onSubmit:function(t){var e=this,a=GSHP_SERVER_ENDPOINT+"/project",l={projectName:this.form.proName,area:this.form.proBuildingSize,position:this.form.proLocation,type:this.form.proBuildingType,excel:this.$refs.upload.uploadFiles[0].raw};this.$http.post(a,l).then(function(t){console.log(t),e.$router.push({path:"/evaluate",query:{id:t.id}})})},onRemove:function(t,e){this.form.excelFile=e},fileHttp:function(){console.log("stop file auto upload")},onChange:function(t,e){},renderHeader1:function(t,e){e.column,e.$index;return t("span",{class:""},["t",t("sub",{attrs:{type:"text"}},["g,o"])])},renderHeader2:function(t,e){e.column,e.$index;return t("span",{class:""},["∆t",t("sub",{attrs:{type:"text"}},["g"])])},handleSizeChange:function(t){this.pageSize=t,this.handleCurrentChange(1)},handleCurrentChange:function(t){this.currentPage=t,this.tableData=this.allTableData.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)}}}),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addProject"}},[a("head-top"),t._v(" "),a("top-nav"),t._v(" "),a("div",{attrs:{id:"add-container"}},[t._m(0),t._v(" "),a("el-form",{ref:"addForm",attrs:{model:t.form,rules:t.rules}},[a("div",{staticClass:"margin-bottom"},[a("span",{staticClass:"ieds-dot"}),t._v("基本信息")]),t._v(" "),a("el-row",[a("el-form-item",{staticClass:"el-item",attrs:{span:5,prop:"proName"}},[a("el-col",{staticClass:"add-xm-title",attrs:{span:1}},[t._v("项目名称: ")]),t._v(" "),a("el-col",{staticClass:"add-input",attrs:{span:4}},[a("el-input",{attrs:{size:"small",placeholder:"请输入项目名称",clearable:""},model:{value:t.form.proName,callback:function(e){t.$set(t.form,"proName",e)},expression:"form.proName"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"el-item",attrs:{prop:"proBuildingSize"}},[a("el-col",{staticClass:"add-xm-title",attrs:{span:1}},[t._v("建筑面积: ")]),t._v(" "),a("el-col",{staticClass:"add-input",attrs:{span:4}},[a("el-input",{attrs:{size:"small",placeholder:"请输入建筑面积(M²)",clearable:""},model:{value:t.form.proBuildingSize,callback:function(e){t.$set(t.form,"proBuildingSize",e)},expression:"form.proBuildingSize"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{staticClass:"el-item",attrs:{prop:"proLocation"}},[a("el-col",{staticClass:"add-xm-title",attrs:{span:1}},[t._v("项目地点: ")]),t._v(" "),a("el-col",{staticClass:"add-input",attrs:{span:4}},[a("el-input",{attrs:{size:"small",placeholder:"请输入项目地点(城市)",clearable:""},model:{value:t.form.proLocation,callback:function(e){t.$set(t.form,"proLocation",e)},expression:"form.proLocation"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"el-item",attrs:{prop:"proBuildingType"}},[a("el-col",{staticClass:"add-xm-title",attrs:{span:1}},[t._v("建筑类型: ")]),t._v(" "),a("el-col",{staticClass:"add-input",attrs:{span:4}},[a("el-input",{attrs:{size:"small",placeholder:"请输入建筑类型",clearable:""},model:{value:t.form.proBuildingType,callback:function(e){t.$set(t.form,"proBuildingType",e)},expression:"form.proBuildingType"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"margin-bottom"},[a("span",{staticClass:"ieds-dot"}),t._v("特征值")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"excel-file",attrs:{action:t.actionUrl,"on-change":t.onChange,"on-remove":t.onRemove,"http-request":t.fileHttp,"file-list":t.form.excelFile,"auto-upload":!0,multiple:!1}},[a("el-button",{attrs:{slot:"trigger",size:"small"},slot:"trigger"},[t._v("上传特征值Excel")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传excel文件，且不超过5M")])],1),t._v(" "),a("el-form-item",{attrs:{prop:"tableData"}},[a("el-table",{staticClass:"add-tab",staticStyle:{width:"810px"},attrs:{data:t.tableData,stripe:""},model:{value:t.form.tableData,callback:function(e){t.$set(t.form,"tableData",e)},expression:"form.tableData"}},[a("el-table-column",{attrs:{prop:"time",label:"时间",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tgo","render-header":t.renderHeader1,width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tg","render-header":t.renderHeader2,width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a",label:"α",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"n",label:"η",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cop",label:"COP",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"eer",label:"EER",width:"110"}})],1),t._v(" "),a("el-row",{staticClass:"table-pages"},[0!=t.totalCnt?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,2,5,50],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCnt},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1),t._v(" "),a("div",{staticClass:"add-btns"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.onSubmit("addForm")}}},[t._v("提交")]),t._v(" "),a("router-link",{attrs:{to:{path:"/home"}}},[a("el-button",{attrs:{plain:""}},[t._v("返回")])],1)],1)],1)],1),t._v(" "),a("footer-bottom")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[this._v("新增项目")])])}]},n=a("VU/8")(i,s,!1,function(t){a("x7jc")},null,null);e.default=n.exports},x7jc:function(t,e){}});
//# sourceMappingURL=5.8d61638503d70e7dac0f.js.map