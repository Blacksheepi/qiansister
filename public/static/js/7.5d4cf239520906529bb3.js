webpackJsonp([7],{Mmlp:function(e,t){},rB3Y:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("teIl"),n=o("TVmP"),r=o("PvTS"),i=o("x2ix"),s=o("+aT9"),c=o.n(s),l={data:function(){return{map:{},markers:[],staticMarkers:[],geocoder:"",currentId:"",project:{},projectList:[],showAll:!1}},components:{headTop:a.a,footerBottom:n.default,topNav:r.default,projectList:i.a},mounted:function(){this.init()},methods:{init:function(){var e=this;e.map=new c.a.Map("container",{resizeEnable:!0,dragEnable:!0,keyboardEnable:!0,doubleClickZoom:!0,zoom:8,center:[118.79647,32.05838]}),c.a.plugin(["AMap.ToolBar","AMap.Scale","AMap.OverView"],function(){e.map.addControl(new c.a.ToolBar),e.map.addControl(new c.a.Scale),e.map.addControl(new c.a.OverView({isOpen:!0}))}),c.a.plugin("AMap.Geocoder",function(){e.geocoder=new c.a.Geocoder({})}),e.map.setFitView()},itemOnClick:function(e){var t=this;if(e.id!==t.currentId){t.showAll=!1,t.project=e,t.map.remove(t.staticMarkers),t.map.remove(t.markers);var o=e.location;t.geocoder.getLocation(o,function(o,a){if("complete"==o&&a.geocodes.length){var n=[a.geocodes[0].location.getLng(),a.geocodes[0].location.getLat()],r=new c.a.Marker({position:n,map:t.map});t.map.setZoomAndCenter(9.1,n),r.setAnimation("AMAP_ANIMATION_BOUNCE"),t.markers.push(r)}else t.map.remove(t.markers);t.currentId=e.id})}},proList:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];this.projectList=t},showProPos:function(){var e=this;e.showAll=!0,e.map.remove(e.markers),e.map.remove(e.staticMarkers);for(var t=e.projectList[0],o=function(o){e.geocoder.getLocation(t[o].position,function(a,n){if("complete"==a&&n.geocodes.length){var r=[n.geocodes[0].location.getLng(),n.geocodes[0].location.getLat()],i=new c.a.Marker({position:r,map:e.map,title:t[o].project_name});e.map.setZoomAndCenter(7.4,[119.6850585938,32.657875737]),e.staticMarkers.push(i)}})},a=0;a<t.length;a++)o(a);e.currentId=""}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"home"}},[o("head-top"),e._v(" "),o("top-nav"),e._v(" "),o("div",{staticClass:"main-container"},[o("project-list",{attrs:{isHome:!0},on:{itemOnClick:e.itemOnClick,proData:e.proList}}),e._v(" "),o("el-button",{staticClass:"all-location",class:e.showAll?"all-location-show":"all-location-not",attrs:{type:"primary",plain:""},on:{click:e.showProPos}},[e._v("总览")]),e._v(" "),o("div",{staticClass:"nav-right view row-container"},[o("div",{staticClass:"page-title"},[e.showAll?o("div",[o("span",[e._v("所有项目位置")])]):o("div",[e.project.location?o("span",[e._v(e._s(e.project.name+"所在地"))]):o("span",[e._v("项目所在地")]),e._v(" "),e.project.location?o("span",[e._v(e._s("："+e.project.location))]):e._e()])]),e._v(" "),e._m(0)])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"container"}},[t("div",{attrs:{id:"map-container"}})])}]};var m=o("VU/8")(l,p,!1,function(e){o("Mmlp")},null,null);t.default=m.exports}});
//# sourceMappingURL=7.5d4cf239520906529bb3.js.map