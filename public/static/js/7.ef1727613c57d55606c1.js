webpackJsonp([7],{"4RnT":function(t,e){},pYIE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("teIl"),s=a("TVmP"),i=a("PvTS"),r=a("x2ix"),o={data:function(){return{id:"",project:{},tableData:[],allEigenvalues:[],currentPage:1,pageSize:10,totalCnt:0}},components:{headTop:n.a,footerBottom:s.default,topNav:i.default,projectList:r.a},watch:{$route:function(t,e){this.id=this.$route.query.id,this.id?this.getItem():this.project={}}},created:function(){this.id=this.$route.query.id,this.id?this.getItem():this.$router.push({path:"/projects"})},methods:{editSuccess:function(t){this.getItem()},getItem:function(t){var e=this,a=(t=GSHP_SERVER_ENDPOINT+"/project/projectAllParams",{id:this.$route.query.id});e.$http.get(t,{params:a}).then(function(t){200===t.status&&e.successCallback(t.data)}).catch(function(t){})},successCallback:function(t){var e={id:(t=t).id,name:t.project_name,location:t.position,area:t.area,type:t.type,beginTime:t.begin_time,paramvalues:t.table};this.project=e,this.totalCnt=t.table.length,this.handleCurrentChange(1)},renderHeader1:function(t,e){e.column,e.$index;return t("span",{class:""},["t",t("sub",{attrs:{type:"text"}},["g,o"])])},renderHeader2:function(t,e){e.column,e.$index;return t("span",{class:""},["∆t",t("sub",{attrs:{type:"text"}},["g"])])},handleSizeChange:function(t){this.pageSize=t,this.handleCurrentChange(1)},handleCurrentChange:function(t){this.currentPage=t,this.tableData=this.project.paramvalues.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)},editClick:function(){this.$refs.projectlist.projectAdd(!0)},deleteClick:function(){var t=this,e=this;this.$confirm("此操作将永久删除该项目以及该项目的所有信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=GSHP_SERVER_ENDPOINT+"/projects?id="+e.$route.query.id;e.$http.delete(t).then(function(t){console.log(t),200===t.status&&(e.$message({type:"success",message:'删除项目"'+e.project.name+'"成功!'}),e.$router.push({path:"/projects"}))}).catch(function(t){e.$message({type:"error",message:"删除失败!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},filterTag:function(t,e){return e.hot===t},seasonChange:function(){},goBack:function(){this.$router.go(-1)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"view-project"}},[a("head-top"),t._v(" "),a("top-nav"),t._v(" "),a("div",{staticClass:"main-container"},[a("project-list",{ref:"projectlist",on:{editSuccess:t.editSuccess}}),t._v(" "),a("div",{staticClass:"nav-right view row-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.id,expression:"id"}],staticClass:"page-title"},[t._v("\n                查看"+t._s(t.project.name)+"\n                "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[a("el-button",{staticClass:"margin-left",attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.editClick}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top-start"}},[a("el-button",{staticClass:"margin-left",attrs:{type:"text",icon:"el-icon-delete"},on:{click:t.deleteClick}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.id,expression:"id"}],staticClass:"margin-top"},[a("el-row",[a("el-col",{attrs:{span:2}},[t._v("项目名称:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.project.name?t.project.name:" "))]),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("项目地点:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.project.location?t.project.location:" "))]),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("投入时间:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t._f("dateFormatterFilter")(t.project.beginTime)))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[t._v("建筑面积:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.project.area)),t.project.area?a("span",[t._v("m"),a("sup",[t._v("2")])]):t._e()]),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("建筑类型:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.project.type))])],1),t._v(" "),t._m(0),t._v(" "),a("el-table",{attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"hot",label:"冷暖季节",fixed:"",filters:[{text:"供暖季",value:!0},{text:"供冷季",value:!1}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.hot?"primary":"success","close-transition":""}},[t._v(t._s(e.row.hot?"供暖季":"供冷季")+"\n                            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"tui","min-width":"120px",label:"用户侧供水温度tui"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tuo","min-width":"124px",label:"用户侧回水温度tuo"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tgi","min-width":"120px",label:"地源侧供水温差tgi"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tgo","min-width":"125px",label:"地源侧回水温度tgo"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gu","min-width":"110px",label:"用户侧流量Gu"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gg","min-width":"110px",label:"地源侧流量Gg"}}),t._v(" "),a("el-table-column",{attrs:{prop:"p","min-width":"110px",label:"p"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pl","min-width":"110px",label:"机组总耗电P1"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pu","min-width":"133px",label:"用户侧水泵总耗电Pu"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pg","min-width":"135px",label:"地源侧水泵总耗电Pg"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("yearFormatterFilter")(e.row.time)))]}}])})],1),t._v(" "),0!=t.totalCnt?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[2,5,10,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCnt},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"margin-bottom margin-top"},[e("span",{staticClass:"ieds-dot"}),this._v("参数表")])}]};var c=a("VU/8")(o,l,!1,function(t){a("4RnT")},null,null);e.default=c.exports}});
//# sourceMappingURL=7.ef1727613c57d55606c1.js.map